<ui:composition template="template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    >
        <ui:define name="title">
		<h:outputText value="Cadastro Clientes" />
	</ui:define>
    <ui:define name="principal">
        <h1>Cadastro Cliente</h1>
        
        
        <h:form id="formFunc">
            <p:panelGrid columns="2">
                <p:outputLabel value="Codigo"/>
                <p:inputText value="#{ClienteMB.cli.codigo}"/>
                <p:outputLabel value="Nome:"/>
                <p:inputText value="#{ClienteMB.cli.nome}"/>
                <p:outputLabel value="Endereco:"/>
                <p:inputText value="#{ClienteMB.cli.endereco}"/>
                <p:outputLabel value="Telefone:"/>
                <p:inputText value="#{ClienteMB.cli.telefone}"/>
                <p:outputLabel value="Status:"/>
                <p:inputText value="#{ClienteMB.cli.status}"/>
                <p:outputLabel value="Limite:"/>
                <p:inputText value="#{ClienteMB.cli.limite}"/>
            </p:panelGrid>
           
            <p:commandButton value="Salvar"
                             action="#{ClienteMB.salvar}"
                             update="formFunc"
                             />
            
            <p:growl id="msgs" showDetail="true"/>
            <p:dataTable id="clientes"
                         var="c" value="#{ClienteMB.clientes}"
                         rowKey="#{c.codigo}"
                         rows="2"
                         paginator="true"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="2,5,10"
                         editable="true"
                         >
                
                
                <p:ajax event="rowEdit" listener="#{ClienteMB.onRowEdit}" update=":formFunc:msgs" />
                <p:ajax event="rowEditCancel" listener="#{ClienteMB.onRowCancel}" update=":formFunc:msgs" />
                
                <p:column filterBy="#{c.codigo}" headerText = "Matricula" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.codigo}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.codigo}" style="width:100%" label="matricula"/></f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column filterBy="#{c.nome}" headerText = "Nome" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.nome}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.nome}" style="width:100%" label="nome"/></f:facet>                        
                    </p:cellEditor>         
                </p:column>
                <p:column filterBy="#{f.endereco}" headerText = "Endereco" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.endereco}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.endereco}" style="width:100%" label="endereco"/></f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column filterBy="#{f.telefone}" headerText = "Telefone" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.telefone}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.telefone}" style="width:100%" label="telefone"/></f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column filterBy="#{f.status}" headerText = "Status" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.status}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.status}" style="width:100%" label="status"/></f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column filterBy="#{f.limite}" headerText = "Limite" filterMatchMode="contains">
                    <p:cellEditor>
                        <f:facet name="output"><p:outputLabel value="#{c.limite}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{c.limite}" style="width:100%" label="limite"/></f:facet>
                    </p:cellEditor>
                </p:column>
                
                <p:column style="width:32px">
                    <p:rowEditor/>
                </p:column>
            </p:dataTable>
            
        </h:form>
    </ui:define>
</ui:composition>